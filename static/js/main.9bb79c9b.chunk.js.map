{"version":3,"sources":["api/agent.ts","stores/eventStore.ts","stores/apiStore.ts","stores/userStore.ts","stores/jiraStore.ts","stores/rootStore.ts","pages/GitlabForm.tsx","pages/User.tsx","pages/EventFilterForm.tsx","pages/Events.tsx","App.tsx","index.tsx"],"names":["axios","defaults","baseURL","interceptors","response","use","undefined","error","console","log","responseBody","data","requests","url","header","get","headers","then","Jira","issue","user","crateHeader","accountId","hash","Buffer","from","username","password","toString","EventStore","observable","ref","rootStore","loadEvents","a","result","evnFilter","processParams","userId","userStore","id","apiStore","api","Users","events","length","push","this","obj","params","item","name","value","action","index","splice","newValue","evn","runInAction","processEvents","grupedEvents","groupBy","created_at","split","i","ApiStore","reaction","token","window","localStorage","setItem","removeItem","getItem","Gitlab","host","UserStore","current","err","JiraStore","values","agent","configure","enforceActions","RootStoreContext","createContext","eventStore","jiraStore","observer","useContext","setToken","createApi","getUser","Message","href","Input","icon","iconPosition","placeholder","onChange","e","target","color","onClick","negative","setParamName","setParamValue","addParam","getEvents","List","Item","map","key","Button","Scroll","require","Link","Element","ignoredFileds","replacer","includes","Date","toTimeString","className","Object","keys","activeClass","to","spy","smooth","duration","list","x","JSON","stringify","slice","replace","print","App","useEffect","Container","ReactDOM","render","document","getElementById"],"mappings":"iJAAA,iCAGAA,IAAMC,SAASC,QAAU,2CAazBF,IAAMG,aAAaC,SAASC,SAAIC,EAAW,SAAAC,GAEvCC,QAAQC,IAAIF,KAGhB,IAAMG,EAAe,SAACN,GAAD,OAA6BA,EAASO,MAErDC,EAOG,SAACC,EAAaC,GAAd,OACDd,IACKe,IAAIF,EAAK,CACNG,QAASF,IAEZG,KAAKP,IAGZQ,EAAO,CACTC,MAAO,SAACC,EAAgBD,GAAjB,OAAiDP,EAAA,mBAAiCS,EAAYD,KAErGE,UAAW,SAACF,GAAD,OAAkCR,EAAa,sBAAuBS,EAAYD,MAE1FC,EAAc,SAACD,GACjB,IAAIG,EAAOC,EAAOC,KAAKL,EAAKM,SAAS,IAAIN,EAAKO,UAAUC,SAAS,UAClE,MAAO,CACH,cAAgB,SAAhB,OAA0BL,GAC1B,OAAU,qBAIH,KACXL,U,qTC/CiBW,G,EAOhBC,IAAWC,I,EACXD,IAAWC,I,aALZ,WAAYC,GAAuB,IAAD,gCAFlCA,eAEkC,wYA6ClCC,WA7CkC,qBA6CrB,kCAAAC,EAAA,qDACLC,EAAgB,GAChBC,EAAY,EAAKC,gBACjBC,EAAS,EAAKN,UAAUO,UAAUnB,KAAMoB,GAHnC,uBAKY,EAAKR,UAAUS,SAASC,IAAIC,MAAMC,OAAON,EAAQF,GAL7D,UAMe,KADhBzB,EALC,QAMIkC,OANJ,mDASLT,EAAS,MAAY,EACrBD,EAAOW,KAAP,MAAAX,EAAM,YAASxB,IAVV,gDAYFwB,GAZE,0CA7CqB,yCAC9BY,KAAKf,UAAYA,E,4DA4DjB,IAAIgB,EAAW,GADE,uBAEjB,YAAiBD,KAAKE,OAAtB,+CAA8B,CAAC,IAAtBC,EAAqB,QACtBA,EAAKC,OACLH,EAAIE,EAAKC,MAAQD,EAAKE,QAJb,kFAQjB,OAFAJ,EAAG,QAAc,GACjBA,EAAG,KAAW,EACPA,M,oHAhEqB,M,qHAC2B,M,6CAC1DlB,K,wEAAoC,M,2CACpCA,K,wEAAmC,yE,oCAEnCA,K,wEAAyC,CAAC,CACvCqB,KAAM,QACNC,MAAO,iB,sCAGVC,K,oFAAkB,WACf,EAAKJ,OAAOH,KAAK,CACbK,KAAM,GACNC,MAAO,S,yCAIdC,K,oFAAqB,SAACC,GACnB,EAAKL,OAAOM,OAAOD,EAAO,O,0CAG7BD,K,oFAAsB,SAACG,EAAehB,GACnC,EAAKS,OAAOT,GAAZ,KAA0BgB,M,2CAG7BH,K,oFAAuB,SAACG,EAAehB,GACpC,EAAKS,OAAOT,GAAZ,MAA2BgB,M,uCAG9BH,K,yGAAmB,4BAAAnB,EAAA,8EAEI,EAAKD,aAFT,OAERwB,EAFQ,OAGZC,YAAY,WACR,EAAKd,OAASa,IAElB,EAAKE,gBANO,gDAQZnD,QAAQC,IAAR,MARY,0D,2CAsCnB4C,K,oFAAuB,WACpB,IAAIlB,EAAmC,GACnCyB,EAAkCC,YAAQ,EAAKjB,OAAQ,SAACI,GAAD,OAAcA,EAAIc,WAAWC,MAAM,KAAK,KAEnG,IAAK,IAAIb,KAAQU,EAAc,CAC3BzB,EAAOe,GAAQ,GACf,IAAK,IAAIc,EAAI,EAAGA,EAAIJ,EAAaV,GAAML,OAAQmB,IAC3C7B,EAAOe,GAAMJ,KAAKc,EAAaV,GAAMc,IAG7CN,YAAY,WACR,EAAKE,aAAezB,Q,YCtFX8B,G,EAGjB,WAAYjC,GAAuB,IAAD,gCAFlCA,eAEkC,2IAC9Be,KAAKf,UAAYA,EAEjBkC,YACI,kBAAM,EAAKC,OACX,SAAAA,GACOA,EACCC,OAAOC,aAAaC,QAAQ,QAASH,GAErCC,OAAOC,aAAaE,WAAW,Y,mCAK9CzC,K,yEAAkCsC,OAAOC,aAAaG,QAAQ,Y,iCAC9D1C,K,yEAA6B,Q,sCAE7BuB,K,oFAAkB,SAACc,GAChB,EAAKA,MAAQA,M,uCAGhBd,K,yGAAmB,sBAAAnB,EAAA,qDAChB,EAAKQ,IAAM,IAAI+B,SAAO,CAClBC,KAAM,2BACNP,MAAO,EAAKA,QAHA,4C,GCxBHQ,G,EAGnB,WAAY3C,GAAuB,yBAFnCA,eAEkC,oGAChCe,KAAKf,UAAYA,G,kCAGlBF,K,yEAA4C,Q,iCAC5CA,K,yEAAgC,Q,qCAGhCuB,K,yGAAiB,4BAAAnB,EAAA,8EAEK,EAAKF,UAAUS,SAASC,IAAIC,MAAMiC,UAFvC,OAERxD,EAFQ,OAIdsC,YAAY,WACV,EAAKtC,KAAOA,EACZ,EAAKyD,IAAM,OANC,gDASdnB,YAAY,WACV,EAAKtC,KAAO,KACZ,EAAKyD,IAAM,uBAEbrE,QAAQC,IAAR,MAbc,0D,YCTCqE,G,EAGnB,WAAY9C,GAAuB,yBAFnCA,eAEkC,2IAChCe,KAAKf,UAAYA,G,kCAGlBF,K,yEAAkC,Q,sCAElCA,K,wEAA8B,M,sCAC9BA,K,wEAA8B,M,mCAE9BuB,K,+GAAe,WAAO0B,GAAP,SAAA7C,EAAA,8EAEN8C,IAAM9D,KAAKC,MAAM4D,EAAQ,IAFnB,4G,4DCXlBE,YAAU,CAACC,eAAgB,WAEpB,IAcMC,EAAmBC,wBAAc,IAR1C,aAAe,yBALfC,gBAKc,OAJd5C,cAIc,OAHdF,eAGc,OAFd+C,eAEc,EACVvC,KAAKsC,WAAa,IAAIxD,EAAWkB,MACjCA,KAAKN,SAAW,IAAIwB,EAASlB,MAC7BA,KAAKR,UAAY,IAAIoC,EAAU5B,MAC/BA,KAAKuC,UAAY,IAAIR,EAAU/B,Q,4BCmBxBwC,eAjCc,WAC1B,IAAMvD,EAAYwD,qBAAWL,GADG,EAEOnD,EAAUS,SAAzCgD,EAFwB,EAExBA,SAAUC,EAFc,EAEdA,UAAWvB,EAFG,EAEHA,MAFG,EAGDnC,EAAUO,UAAjCoD,EAHwB,EAGxBA,QAASd,EAHe,EAGfA,IAAKzD,EAHU,EAGVA,KAEtB,OACG,oCAEA,kBAACwE,EAAA,EAAD,oCAC+B,uBAAGC,KAAK,0DAAR,wDAE5B,kBAACC,GAAA,EAAD,CAAOC,KAAK,MAAMC,aAAa,OAAOC,YAAY,aAC/CC,SAAU,SAAAC,GAAC,OAAIV,EAASU,EAAEC,OAAOhD,QACjCA,MAAOe,EACPd,OAAQ,CACL0C,KAAM,QACNM,MAAe,MAARjF,EAAe,MAAQ,QAC9BkF,QAAS,WACNZ,IACAC,QAILd,GACE,kBAACe,EAAA,EAAD,CAASW,UAAQ,GACd,2BAAI1B,OCdPU,eAZQ,WACrB,IACQnE,EADUoE,qBAAWL,GACF5C,UAAnBnB,KAER,OACG,oCACEA,GAAQA,EAAK+B,Q,oBCoCLoC,eAzCmB,WAChC,IAAMvD,EAAYwD,qBAAWL,GACrB/D,EAASY,EAAUO,UAAnBnB,KAF8B,EAG+BY,EAAUqD,WAAvEpC,EAH8B,EAG9BA,OAAQuD,EAHsB,EAGtBA,aAAcC,EAHQ,EAGRA,cAAeC,EAHP,EAGOA,SAAUC,EAHjB,EAGiBA,UAEvD,OACE,oCACE,kBAACC,GAAA,EAAD,KACE,kBAACA,GAAA,EAAKC,KAAN,KACG5D,EAAO6D,IAAI,SAAC9D,EAAKR,GAChB,OACE,yBAAKuE,IAAKvE,GACR,kBAACsD,GAAA,EAAD,CACEG,YAAY,YACZ7C,MAAOJ,EAAIG,KACX+C,SAAU,SAAAC,GAAC,OAAIK,EAAaL,EAAEC,OAAOhD,MAAOZ,MAE9C,kBAACsD,GAAA,EAAD,CACEG,YAAY,aACZ7C,MAAOJ,EAAII,MACX8C,SAAU,SAAAC,GAAC,OAAIM,EAAcN,EAAEC,OAAOhD,MAAOZ,UAQvD,kBAACoE,GAAA,EAAKC,KAAN,KACE,kBAACG,GAAA,EAAD,CAAQV,QAASI,GAAjB,aAECtF,GAAQ,kBAAC4F,GAAA,EAAD,CAAQV,QAASK,GAAjB,gB,UChCfM,GAASC,EAAQ,KAEbC,GAAkBF,GAAlBE,KAAMC,GAAYH,GAAZG,QAkDC7B,eAhDU,WACrB,IAD2B,EACTC,qBAAWL,GAC6BE,WAAlDzC,EAFmB,EAEnBA,OAAQgB,EAFW,EAEXA,aAAcyD,EAFH,EAEGA,cAExBC,EAAW,SAACP,EAAU3D,GACxB,GAAc,OAAVA,IAAkBiE,EAActD,MAAM,KAAKwD,SAASR,GAGxD,MAAY,eAARA,EACQ,IAAIS,KAAKpE,GAAQqE,eAEtBrE,GAYX,OACI,oCACI,yBAAKsE,UAAU,gBACX,4BACKC,OAAOC,KAAKhE,GAAckD,IAAI,SAACC,EAAKzD,GAAN,OAC3B,wBAAIyD,IAAKzD,GACL,kBAAC6D,GAAD,CAAMU,YAAY,SAASC,GAAIf,EAAKgB,KAAK,EAAMC,QAAQ,EAAMC,SAAU,KAAOlB,QAK7FnE,GACG,kBAAC,KAAD,KACK+E,OAAOC,KAAKhE,GAAckD,IAAI,SAACC,EAAKzD,GAAN,OAC3B,kBAAC8D,GAAD,CAASjE,KAAM4D,EAAKW,UAAU,eAvBpC,SAACX,GACX,IAAImB,EAAO,GAKX,OAJAA,EAAKpF,KACD,kBAAC,KAAS+D,KAAV,CAAeR,MAAM,OAAM,4BAAKU,KAEpCmB,EAAKpF,KAAKc,EAAamD,GAAKD,IAAI,SAACqB,EAAQ3F,GAAT,OAAqB,kBAAC,KAASqE,KAAV,KAAe,6BAAMuB,KAAKC,UAAUF,EAAGb,EAAU,GAAGgB,MAAM,GAAI,GAAGC,QAAQ,MAAO,SAC9HL,EAkBaM,CAAMzB,U,mBCJnB0B,GAjCO,WACpB,IAAMzG,EAAYwD,qBAAWL,GADH,EAEInD,EAAUS,SAAhC0B,EAFkB,EAElBA,MAAOuB,EAFW,EAEXA,UACPC,EAAa3D,EAAUO,UAAvBoD,QAUR,OARA+C,oBAAU,WACJvE,IACF3D,QAAQC,IAAI0D,GACZuB,IACAC,MAED,CAACA,EAASD,EAAWvB,IAGtB,kBAACwE,GAAA,EAAD,KACE,kDACA,kBAAC,GAAD,MAKA,qCACA,kBAAC,GAAD,MAEA,6CACA,kBAAC,GAAD,MAEA,uCACA,kBAAC,GAAD,Q,cC/BNC,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.9bb79c9b.chunk.js","sourcesContent":["import axios, { AxiosResponse } from 'axios';\r\nimport { JiraUser } from '../models/User';\r\n\r\naxios.defaults.baseURL = \"https://jira.smart-digital.de/rest/api/2\";\r\n\r\n// axios.interceptors.request.use(\r\n//     config => {\r\n//         const token = window.localStorage.getItem('jwt');\r\n//         if (token) config.headers.Authorization = `Bearer ${token}`;\r\n//         return config;\r\n//     },\r\n//     error => {\r\n//         return Promise.reject(error);\r\n//     }\r\n// );\r\n\r\naxios.interceptors.response.use(undefined, error => {\r\n    // const { status, data, config, headers } = error.response;\r\n    console.log(error);    \r\n  });\r\n\r\nconst responseBody = (response: AxiosResponse) => response.data;\r\n\r\nconst requests = {\r\n    post: (url: string, body: {}, header: {}) =>\r\n        axios\r\n            .post(url, body, {\r\n                headers: header\r\n            })\r\n            .then(responseBody),\r\n    get: (url: string, header: {}) =>\r\n        axios\r\n            .get(url, {\r\n                headers: header\r\n            })\r\n            .then(responseBody),\r\n}\r\n\r\nconst Jira = {\r\n    issue: (user: JiraUser, issue: string): Promise<any> => requests.get(`/issue/SMAR-2627`, crateHeader(user)),\r\n\r\n    accountId: (user: JiraUser): Promise<any> => requests.get(\"user/bulk/migration\", crateHeader(user))\r\n}\r\n const crateHeader = (user: JiraUser): any => {\r\n     var hash = Buffer.from(user.username+\":\"+user.password).toString('base64');\r\n    return {\r\n        'Authorization': `Basic ${hash}`,\r\n        'Accept': 'application/json'\r\n      }\r\n }\r\n\r\nexport default {\r\n    Jira\r\n  };\r\n  ","import { RootStore } from \"./rootStore\";\r\nimport { observable, action, runInAction } from \"mobx\";\r\nimport { EventFilterParams } from \"../models/Event\";\r\nimport { Dictionary, groupBy } from \"underscore\";\r\n\r\nexport default class EventStore {\r\n    rootStore: RootStore;\r\n\r\n    constructor(rootStore: RootStore) {\r\n        this.rootStore = rootStore;\r\n    }\r\n\r\n    @observable.ref events: any[] = [];\r\n    @observable.ref grupedEvents: { [time: string]: any[]; } = {}\r\n    @observable processedEvents: any[] = [];\r\n    @observable ignoredFileds: string = \"author author_username author_id commit_count commit_from commit_to\";\r\n\r\n    @observable params: EventFilterParams[] = [{\r\n        name: 'after',\r\n        value: \"2020-8-31\"\r\n    } as EventFilterParams];\r\n\r\n    @action addParam = () => {\r\n        this.params.push({\r\n            name: '',\r\n            value: ''\r\n        });\r\n    }\r\n\r\n    @action removeParam = (index: number) => {\r\n        this.params.splice(index, 1);\r\n    }\r\n\r\n    @action setParamName = (newValue: any, id: number) => {\r\n        this.params[id]['name'] = newValue;\r\n    };\r\n\r\n    @action setParamValue = (newValue: any, id: number) => {\r\n        this.params[id]['value'] = newValue;\r\n    };\r\n\r\n    @action getEvents = async () => {\r\n        try {\r\n            var evn = await this.loadEvents();\r\n            runInAction(() => {\r\n                this.events = evn;\r\n            });\r\n            this.processEvents();\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    loadEvents = async () => {\r\n        var result: any[] = [];\r\n        var evnFilter = this.processParams();\r\n        var userId = this.rootStore.userStore.user!.id;\r\n        while (true) {\r\n            var data = await this.rootStore.apiStore.api.Users.events(userId, evnFilter);\r\n            if (data.length === 0) {\r\n                break;\r\n            }\r\n            evnFilter['page'] += 1;\r\n            result.push(...data);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    processParams(): any {\r\n        var obj: any = {};\r\n        for (var item of this.params) {\r\n            if (item.name)\r\n                obj[item.name] = item.value;\r\n        }\r\n        obj['perPage'] = 50;\r\n        obj['page'] = 1;\r\n        return obj;\r\n    }\r\n\r\n    @action processEvents = () => {\r\n        var result: { [id: string]: any[]; } = {}\r\n        var grupedEvents: Dictionary<any[]> = groupBy(this.events, (obj: any) => obj.created_at.split('T')[0]);\r\n\r\n        for (var item in grupedEvents) {\r\n            result[item] = [];\r\n            for (let i = 0; i < grupedEvents[item].length; i++) {\r\n                result[item].push(grupedEvents[item][i]);\r\n            }\r\n        }\r\n        runInAction(() => {\r\n            this.grupedEvents = result;\r\n        });\r\n    }\r\n}","import { RootStore } from \"./rootStore\";\r\nimport { observable, reaction, action } from \"mobx\";\r\nimport { Gitlab } from \"@gitbeaker/browser\";\r\n\r\nexport default class ApiStore {\r\n    rootStore: RootStore;\r\n    \r\n    constructor(rootStore: RootStore) {\r\n        this.rootStore = rootStore;\r\n        \r\n        reaction(\r\n            () => this.token,\r\n            token => {\r\n                if(token) \r\n                    window.localStorage.setItem('token', token);\r\n                else\r\n                    window.localStorage.removeItem('token');\r\n            }\r\n        );\r\n    }\r\n    \r\n    @observable token: string | null = window.localStorage.getItem('token');\r\n    @observable api: any | null = null;\r\n\r\n    @action setToken = (token: string | null) => {\r\n        this.token = token;\r\n    }\r\n\r\n    @action createApi = async () => {\r\n        this.api = new Gitlab({\r\n            host: \"https://gitlab.webix.de/\",\r\n            token: this.token\r\n        });\r\n    }\r\n}","import { RootStore } from \"./rootStore\";\r\nimport { observable, action, runInAction } from \"mobx\";\r\nimport { UserSchemaDefault } from \"../models/User\";\r\n\r\nexport default class UserStore {\r\n  rootStore: RootStore;\r\n  \r\n  constructor(rootStore: RootStore) {\r\n    this.rootStore = rootStore;\r\n  }\r\n    \r\n  @observable user: UserSchemaDefault | null = null;\r\n  @observable err: string | null = null;\r\n\r\n\r\n  @action getUser = async () => {\r\n    try {\r\n      const user = await this.rootStore.apiStore.api.Users.current();\r\n\r\n      runInAction(() => {\r\n        this.user = user;\r\n        this.err = null\r\n      });\r\n    } catch (error) {\r\n      runInAction(() => {\r\n        this.user = null;\r\n        this.err = \"Token is not valid\";\r\n      });\r\n      console.log(error);\r\n    }\r\n  }\r\n}","import { RootStore } from \"./rootStore\";\r\nimport { observable, action } from \"mobx\";\r\nimport JiraApi from 'jira-client';\r\nimport { JiraUser } from \"../models/User\";\r\nimport agent from \"../api/agent\";\r\n\r\nexport default class JiraStore {\r\n  rootStore: RootStore;\r\n\r\n  constructor(rootStore: RootStore) {\r\n    this.rootStore = rootStore;\r\n  }\r\n\r\n  @observable jira: JiraApi | null = null;\r\n\r\n  @observable username: string = '';\r\n  @observable password: string = '';\r\n\r\n  @action login = async (values: JiraUser) => {\r\n    try {\r\n      await agent.Jira.issue(values, \"\");\r\n    } catch (error) {\r\n      \r\n    }\r\n    // this.jira = new JiraApi({\r\n    //   protocol: 'https',\r\n    //   host: 'jira.smart-digital.de',\r\n    //   username: this.username,\r\n    //   password: this.password,\r\n    //   apiVersion: '2',\r\n    //   strictSSL: false\r\n    // });\r\n\r\n  }\r\n}","import { createContext } from 'react';\r\nimport { configure } from 'mobx';\r\nimport EventStore from './eventStore';\r\nimport ApiStore from './apiStore';\r\nimport UserStore from './userStore';\r\nimport JiraStore from './jiraStore';\r\n\r\nconfigure({enforceActions: 'always'});\r\n\r\nexport class RootStore {\r\n    eventStore: EventStore;\r\n    apiStore: ApiStore;\r\n    userStore: UserStore;\r\n    jiraStore: JiraStore;\r\n\r\n    constructor() {\r\n        this.eventStore = new EventStore(this);\r\n        this.apiStore = new ApiStore(this);\r\n        this.userStore = new UserStore(this);\r\n        this.jiraStore = new JiraStore(this);\r\n    }\r\n}\r\n\r\nexport const RootStoreContext = createContext(new RootStore());","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\nimport { Input, Message } from 'semantic-ui-react';\r\n\r\nconst GitlabForm: React.FC = () => {\r\n   const rootStore = useContext(RootStoreContext);\r\n   const { setToken, createApi, token } = rootStore.apiStore;\r\n   const { getUser, err, user } = rootStore.userStore;\r\n\r\n   return (\r\n      <> \r\n      {/* */}\r\n      <Message>\r\n         Create read_api token here: <a href=\"https://gitlab.webix.de/profile/personal_access_tokens\">wwww.gitlab.webix.de/profile/personal_access_tokens</a>\r\n      </Message>\r\n         <Input icon='key' iconPosition='left' placeholder='Your token'\r\n            onChange={e => setToken(e.target.value)}\r\n            value={token}\r\n            action={{\r\n               icon: 'check',\r\n               color: user == null ? 'red' : 'green',\r\n               onClick: () => {\r\n                  createApi();\r\n                  getUser();\r\n               }\r\n            }} />\r\n\r\n            {err && (\r\n               <Message negative>\r\n                  <p>{err}</p>\r\n               </Message>\r\n            )}\r\n      </>\r\n   );\r\n\r\n};\r\n\r\nexport default observer(GitlabForm);","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\n\r\nconst User: React.FC = () => {\r\n  const rootStore = useContext(RootStoreContext);\r\n  const { user } = rootStore.userStore;\r\n\r\n  return (\r\n     <>\r\n      {user && user.name}\r\n     </>\r\n  );\r\n\r\n};\r\n\r\nexport default observer(User);","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\nimport { Input, List, Button } from 'semantic-ui-react';\r\n\r\nconst EventFilterForm: React.FC = () => {\r\n  const rootStore = useContext(RootStoreContext);\r\n  const { user } = rootStore.userStore;\r\n  const { params, setParamName, setParamValue, addParam, getEvents } = rootStore.eventStore;\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        <List.Item>\r\n          {params.map((obj, id) => {\r\n            return (\r\n              <div key={id}>\r\n                <Input\r\n                  placeholder='prop name'\r\n                  value={obj.name}\r\n                  onChange={e => setParamName(e.target.value, id)}\r\n                />\r\n                <Input\r\n                  placeholder='prop value'\r\n                  value={obj.value}\r\n                  onChange={e => setParamValue(e.target.value, id)} />\r\n              </div>\r\n            )\r\n          }\r\n          )}\r\n        </List.Item>\r\n\r\n\r\n        <List.Item>\r\n          <Button onClick={addParam}>Add Param</Button>\r\n\r\n          {user && <Button onClick={getEvents}>Submite</Button>}\r\n          \r\n          {/* <Button onClick={processEvents}>Process</Button> */}\r\n        </List.Item>\r\n      </List>\r\n    </>\r\n  );\r\n\r\n};\r\n\r\nexport default observer(EventFilterForm);","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\nimport { Timeline } from 'antd';\r\nvar Scroll = require('react-scroll');\r\n\r\nconst { Link, Element } = Scroll;\r\n\r\nconst Events: React.FC = () => {\r\n    const rootStore = useContext(RootStoreContext);\r\n    const { events, grupedEvents, ignoredFileds } = rootStore.eventStore;\r\n\r\n    const replacer = (key: any, value: any) => {\r\n        if (value === null || ignoredFileds.split(\" \").includes(key)) {\r\n            return;\r\n        }\r\n        if (key === 'created_at') {\r\n            return (new Date(value)).toTimeString();\r\n        }\r\n        return value;\r\n    }\r\n\r\n    const print = (key: string) => {\r\n        let list = [];\r\n        list.push(\r\n            <Timeline.Item color=\"red\"><h2>{key}</h2></Timeline.Item>\r\n        );\r\n        list.push(grupedEvents[key].map((x: any, id: any) => <Timeline.Item><pre>{JSON.stringify(x, replacer, 1).slice(2, -2).replace(/\\\"/g, '')}</pre></Timeline.Item>));\r\n        return list;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"vertical-nav\">\r\n                <ul>\r\n                    {Object.keys(grupedEvents).map((key, index) => (\r\n                        <li key={index}>\r\n                            <Link activeClass=\"active\" to={key} spy={true} smooth={true} duration={250} >{key}</Link>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </nav>\r\n            {events && (\r\n                <Timeline >\r\n                    {Object.keys(grupedEvents).map((key, index) => (\r\n                        <Element name={key} className=\"element big\">\r\n                           {print(key)}\r\n                        </Element>\r\n                    ))}\r\n                </Timeline>\r\n            )}\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nexport default observer(Events);","import React, { useContext, useEffect } from \"react\";\r\nimport { RootStoreContext } from \"./stores/rootStore\";\r\nimport GitlabForm from \"./pages/GitlabForm\";\r\nimport User from \"./pages/User\";\r\nimport EventFilterForm from \"./pages/EventFilterForm\";\r\nimport Events from \"./pages/Events\";\r\nimport 'antd/dist/antd.css';\r\nimport { Container } from \"semantic-ui-react\";\r\n\r\nconst App: React.FC = () => {\r\n  const rootStore = useContext(RootStoreContext);\r\n  const { token, createApi }  = rootStore.apiStore;\r\n  const { getUser }  = rootStore.userStore;\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      console.log(token);\r\n      createApi();\r\n      getUser()\r\n    } \r\n  }, [getUser, createApi, token])\r\n\r\n  return (\r\n    <Container>\r\n      <h3>GitLab User Token:</h3>\r\n      <GitlabForm />\r\n\r\n      {/* <h3>Jira User:</h3>\r\n      <JiraLoginForm /> */}\r\n\r\n      <h3>User:</h3>\r\n      <User />\r\n\r\n      <h3>Event filter:</h3>\r\n      <EventFilterForm />\r\n\r\n      <h3>Events:</h3>\r\n      <Events />\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport './style/style.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}