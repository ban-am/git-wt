{"version":3,"sources":["stores/eventStore.ts","stores/apiStore.ts","stores/userStore.ts","stores/rootStore.ts","pages/GitlabForm.tsx","pages/User.tsx","pages/EventFilterForm.tsx","pages/Events.tsx","pages/JiraTaskParser.tsx","App.tsx","index.tsx"],"names":["dayjs","require","EventStore","observable","ref","rootStore","loadEvents","a","result","evnFilter","processParams","userId","userStore","user","id","apiStore","api","Users","events","data","length","push","this","obj","params","item","name","value","action","d","Date","newMonth","getMonth","setFullYear","getFullYear","setMonth","date","format","daysInMonth","getLastDayOfMonth","text","regex","match","link","undefined","index","splice","newValue","evn","runInAction","processEvents","console","log","grupedEvents","groupBy","created_at","split","i","ApiStore","reaction","token","window","localStorage","setItem","removeItem","getItem","Gitlab","host","UserStore","loadingUser","current","err","configure","enforceActions","RootStoreContext","createContext","eventStore","Title","Typography","observer","useContext","setToken","createApi","getUser","Container","level","title","href","overlayStyle","fontSize","QuestionCircleOutlined","translate","style","color","Group","compact","width","placeholder","onChange","e","target","type","danger","loading","icon","CheckOutlined","SearchOutlined","onClick","setParamName","setParamValue","addParam","getEvents","removeParam","List","Item","map","key","defaultValue","MinusOutlined","Scroll","Link","Element","createLink","createObj","x","newDate","setTime","getTime","getTimezoneOffset","push_data","action_name","ref_type","LinkOutlined","note","target_title","target_type","className","Search","size","enterButton","onSearch","open","float","Object","keys","activeClass","to","spy","smooth","duration","list","dot","ClockCircleOutlined","MessageOutlined","DeleteOutlined","CheckCircleOutlined","PlusCircleOutlined","ForkOutlined","print","setRegex","toString","App","useEffect","GitlabOutlined","direction","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bd66f18f.chunk.js","sourcesContent":["import { RootStore } from \"./rootStore\";\r\nimport { observable, action, runInAction } from \"mobx\";\r\nimport { EventFilterParams } from \"../models/Event\";\r\nimport { Dictionary, groupBy } from \"underscore\";\r\nvar dayjs = require('dayjs');\r\n\r\nexport default class EventStore {\r\n    rootStore: RootStore;\r\n    constructor(rootStore: RootStore) {\r\n        this.rootStore = rootStore;\r\n    }\r\n\r\n    @observable.ref events: any[] = [];\r\n    @observable.ref grupedEvents: { [time: string]: any[]; } = {}\r\n    @observable processedEvents: any[] = [];\r\n    @observable ignoredFileds: string[] = [\"author\", \"author_username\", \"author_id\", \"commit_count\", \"commit_from\", \"commit_to\", \"project_id\", \"target_id\", \"target_iid\", \"position\"];\r\n    @observable regex = \"SMAR.[\\\\d]+\";\r\n\r\n    @action getLastDayOfMonth = (): string => {\r\n        var d = new Date();\r\n        var newMonth = d.getMonth() - 1;\r\n        if(newMonth < 0){\r\n            newMonth += 12;\r\n            d.setFullYear(d.getFullYear() - 1);\r\n        }\r\n        d.setMonth(newMonth);\r\n\r\n        let date = dayjs(d);\r\n\r\n        return date.format('YYYY-MM') + '-' + date.daysInMonth();\r\n    }\r\n\r\n    @observable params: EventFilterParams[] = [{\r\n        name: 'after',\r\n        value: this.getLastDayOfMonth()\r\n    } as EventFilterParams];\r\n\r\n    @action addParam = () => {\r\n        this.params.push({\r\n            name: '',\r\n            value: ''\r\n        });\r\n    }\r\n\r\n    @action setRegex = (text: string) => {\r\n        this.regex = text;\r\n    }\r\n\r\n    @action createLink = (text: string): string | undefined => {\r\n        const data: any = text.match(this.regex);\r\n        let link: string | undefined = undefined;\r\n        if(data) {\r\n            link = \"https://jira.smart-digital.de/browse/\" + data[0]\r\n        }\r\n        return link;\r\n    }\r\n\r\n    @action removeParam = (index: number) => {\r\n        this.params.splice(index, 1);\r\n    }\r\n\r\n    @action setParamName = (newValue: any, id: number) => {\r\n        this.params[id]['name'] = newValue;\r\n    };\r\n\r\n    @action setParamValue = (newValue: any, id: number) => {\r\n        this.params[id]['value'] = newValue;\r\n    };\r\n\r\n    @action getEvents = async () => {\r\n        if (!this.rootStore.userStore.user)\r\n            return;\r\n        try {\r\n            var evn = await this.loadEvents();\r\n            runInAction(() => {\r\n                this.events = evn;\r\n            });\r\n            this.processEvents();\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    loadEvents = async () => {\r\n        var result: any[] = [];\r\n        var evnFilter = this.processParams();\r\n        var userId = this.rootStore.userStore.user!.id;\r\n        while (true) {\r\n            var data = await this.rootStore.apiStore.api.Users.events(userId, evnFilter);\r\n            if (data.length === 0) {\r\n                break;\r\n            }\r\n            evnFilter['page'] += 1;\r\n            result.push(...data);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    processParams(): any {\r\n        var obj: any = {};\r\n        for (var item of this.params) {\r\n            if (item.name)\r\n                obj[item.name] = item.value;\r\n        }\r\n        obj['perPage'] = 50;\r\n        obj['page'] = 1;\r\n        return obj;\r\n    }\r\n\r\n    @action processEvents = () => {\r\n        var result: { [id: string]: any[]; } = {}\r\n        var grupedEvents: Dictionary<any[]> = groupBy(this.events, (obj: any) => obj.created_at.split('T')[0]);\r\n\r\n        for (var item in grupedEvents) {\r\n            result[item] = [];\r\n            for (let i = 0; i < grupedEvents[item].length; i++) {\r\n                result[item].push(grupedEvents[item][i]);\r\n            }\r\n        }\r\n        runInAction(() => {\r\n            this.grupedEvents = result;\r\n        });\r\n    }\r\n}","import { RootStore } from \"./rootStore\";\r\nimport { observable, reaction, action } from \"mobx\";\r\nimport { Gitlab } from \"@gitbeaker/browser\";\r\n\r\nexport default class ApiStore {\r\n    rootStore: RootStore;\r\n    \r\n    constructor(rootStore: RootStore) {\r\n        this.rootStore = rootStore;\r\n        \r\n        reaction(\r\n            () => this.token,\r\n            token => {\r\n                if(token) \r\n                    window.localStorage.setItem('token', token);\r\n                else\r\n                    window.localStorage.removeItem('token');\r\n            }\r\n        );\r\n    }\r\n    \r\n    @observable token: string | null = window.localStorage.getItem('token');\r\n    @observable api: any | null = null;\r\n\r\n    @action setToken = (token: string | null) => {\r\n        this.token = token;\r\n    }\r\n\r\n    @action createApi = async () => {\r\n        this.api = new Gitlab({\r\n            host: \"https://gitlab.webix.de/\",\r\n            token: this.token\r\n        });\r\n    }\r\n}","import { RootStore } from \"./rootStore\";\r\nimport { observable, action, runInAction } from \"mobx\";\r\nimport { UserSchemaDefault } from \"../models/User\";\r\n\r\nexport default class UserStore {\r\n  rootStore: RootStore;\r\n  \r\n  constructor(rootStore: RootStore) {\r\n    this.rootStore = rootStore;\r\n  }\r\n    \r\n  @observable user: UserSchemaDefault | null = null;\r\n  @observable err: string | null = null;\r\n  @observable loadingUser: boolean = false;\r\n\r\n  @action getUser = async () => {\r\n    try {\r\n      this.loadingUser = true;\r\n      const user = await this.rootStore.apiStore.api.Users.current();\r\n      runInAction(() => {\r\n        this.user = user;\r\n        this.loadingUser = false;\r\n        this.err = null\r\n      });\r\n    } catch (error) {\r\n      runInAction(() => {\r\n        this.user = null;\r\n        this.loadingUser = false;\r\n        this.err = \"Token is not valid\";\r\n      });\r\n      console.log(error);\r\n    }\r\n  }\r\n}","import { createContext } from 'react';\r\nimport { configure } from 'mobx';\r\nimport EventStore from './eventStore';\r\nimport ApiStore from './apiStore';\r\nimport UserStore from './userStore';\r\n\r\nconfigure({enforceActions: 'always'});\r\n\r\nexport class RootStore {\r\n    eventStore: EventStore;\r\n    apiStore: ApiStore;\r\n    userStore: UserStore;\r\n\r\n    constructor() {\r\n        this.eventStore = new EventStore(this);\r\n        this.apiStore = new ApiStore(this);\r\n        this.userStore = new UserStore(this);\r\n    }\r\n}\r\n\r\nexport const RootStoreContext = createContext(new RootStore());","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\nimport { QuestionCircleOutlined, SearchOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { Typography, Tooltip, Input, Button } from 'antd';\r\nimport { Container } from 'semantic-ui-react';\r\n\r\nconst { Title } = Typography;\r\n\r\nconst GitlabForm: React.FC = () => {\r\n   const rootStore = useContext(RootStoreContext);\r\n   const { setToken, createApi, token } = rootStore.apiStore;\r\n   const { getUser, loadingUser, user } = rootStore.userStore;\r\n\r\n   return (\r\n      <Container>\r\n         <Title level={4}>\r\n            GitLab User Token {' '}\r\n            <Tooltip\r\n               title={<p>Create read_api token here: <a href=\"https://gitlab.webix.de/profile/personal_access_tokens\">wwww.gitlab.webix.de/profile/personal_access_tokens</a></p>}\r\n               overlayStyle={{ fontSize: '14px' }}>\r\n               <QuestionCircleOutlined translate style={{ color: '#ff4d4f', fontSize: '16px' }} />\r\n            </Tooltip>\r\n         </Title>\r\n\r\n         <Input.Group compact style={{ width: '35%' }}>\r\n            <Input placeholder=\"Your token\"\r\n               onChange={e => setToken(e.target.value)}\r\n               value={token as string}\r\n               style={{ width: '90%' }}\r\n            />\r\n\r\n            <Button type='primary'\r\n               danger={!user}\r\n               loading={loadingUser}\r\n               icon={user ? <CheckOutlined translate/> : <SearchOutlined translate />}\r\n               style={{ width: '10%' }}\r\n               onClick={() => {\r\n                  createApi();\r\n                  getUser();\r\n               }}></Button>\r\n         </Input.Group>\r\n      </Container>\r\n   );\r\n\r\n};\r\n\r\nexport default observer(GitlabForm);","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\n\r\nconst User: React.FC = () => {\r\n  const rootStore = useContext(RootStoreContext);\r\n  const { user } = rootStore.userStore;\r\n\r\n  return (\r\n     <>\r\n      {user && user.name}\r\n     </>\r\n  );\r\n\r\n};\r\n\r\nexport default observer(User);","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\nimport { List } from 'semantic-ui-react';\r\nimport { QuestionCircleOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport { Tooltip, Typography, Button, Space, Input } from 'antd';\r\n\r\nconst { Title } = Typography;\r\n\r\nconst EventFilterForm: React.FC = () => {\r\n  const rootStore = useContext(RootStoreContext);\r\n  const { params, setParamName, setParamValue, addParam, getEvents, removeParam } = rootStore.eventStore;\r\n\r\n  return (\r\n    <>\r\n      <Title level={4}>\r\n        Event filter {' '}\r\n        <Tooltip\r\n          title={<p>All parameters: <a href=\"https://docs.gitlab.com/ee/api/events.html#list-currently-authenticated-users-events\">www.docs.gitlab.com/ee/api/events.html#list-currently-authenticated-users-events</a></p>}\r\n          overlayStyle={{ fontSize: '14px' }}>\r\n          <QuestionCircleOutlined translate style={{ color: '#ff4d4f', fontSize: '16px' }} />\r\n        </Tooltip>\r\n      </Title>\r\n\r\n      <List>\r\n        <List.Item>\r\n          {params.map((obj, id) => {\r\n            return (\r\n              <div key={id}>\r\n                <Space>\r\n                  <Input.Group>\r\n                    <Input\r\n                      placeholder='prop name'\r\n                      defaultValue={obj.name}\r\n                      onChange={e => setParamName(e.target.value, id)}\r\n                      style={{ width: '45%' }} />\r\n\r\n                    <Input\r\n                      placeholder='prop value'\r\n                      value={obj.value}\r\n                      onChange={e => setParamValue(e.target.value, id)}\r\n                      style={{ width: '45%' }} />\r\n\r\n                    <Button\r\n                      type='text'\r\n                      icon={<MinusOutlined translate />}\r\n                      style={{ width: '10%' }}\r\n                      onClick={() => removeParam(id)}></Button>\r\n\r\n                  </Input.Group>\r\n                </Space>\r\n              </div>\r\n            )\r\n          }\r\n          )}\r\n        </List.Item>\r\n\r\n        <List.Item>\r\n          <Space>\r\n            <Button onClick={addParam}>Add props</Button>\r\n            <Button onClick={getEvents} type=\"primary\">Submit</Button>\r\n          </Space>\r\n        </List.Item>\r\n      </List>\r\n    </>\r\n  );\r\n\r\n};\r\n\r\nexport default observer(EventFilterForm);","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\nimport { Timeline, Typography, Input, Button } from 'antd';\r\nimport { ClockCircleOutlined, MessageOutlined, DeleteOutlined, CheckCircleOutlined, PlusCircleOutlined, ForkOutlined, LinkOutlined } from '@ant-design/icons';\r\n\r\nconst { Title } = Typography;\r\n\r\nvar Scroll = require('react-scroll');\r\nvar dayjs = require('dayjs')\r\n\r\nconst { Link, Element } = Scroll;\r\n\r\nconst Events: React.FC = () => {\r\n    const rootStore = useContext(RootStoreContext);\r\n    const { events, grupedEvents, createLink } = rootStore.eventStore;\r\n\r\n    const getTime = (value: any) => {\r\n        var date = new Date(value);\r\n        var newDate = date.setTime(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\r\n        return dayjs(newDate).format('H:mm');\r\n    }\r\n\r\n    const createObj = (x: any) => {\r\n        var item: any[] = [];\r\n        item.push(<p>{getTime(x.created_at)}</p>);\r\n\r\n        if (x.push_data) {\r\n            item.push(<p>{x.action_name} {x.push_data.ref_type}</p>);\r\n            var link = createLink(x.push_data.ref);\r\n            item.push(<p>{x.push_data.ref} {link && <Button title={link} type=\"link\" href={link} target=\"_blank\" icon={<LinkOutlined translate/>}></Button>}</p>);\r\n        }\r\n        else if (x.note) {\r\n            console.log(x);\r\n            item.push(<p>{x.action_name}</p>);\r\n            var link = createLink(x.target_title);\r\n            item.push(<p>{x.target_title} {link && <Button title={link} type=\"link\" href={link} target=\"_blank\" icon={<LinkOutlined translate/>}></Button>}</p>);\r\n        } else {\r\n            item.push(<p>{x.action_name} {x.target_type}</p>);\r\n            var link = createLink(x.target_title);\r\n            item.push(<p>{x.target_title} {link && <Button title={link} type=\"link\" href={link} target=\"_blank\" icon={<LinkOutlined translate/>}></Button>}</p>);\r\n        }\r\n        return item;\r\n    }\r\n\r\n    const print = (key: string) => {\r\n        let list = [];\r\n        list.push(<Timeline.Item dot={<ClockCircleOutlined translate style={{ fontSize: '18px' }} />} color=\"red\"><h2>{dayjs(key).format('DD. MM. YYYY (dd)')}</h2></Timeline.Item>);\r\n        list.push(grupedEvents[key].map((x: any, id: any) => {\r\n\r\n            var text = createObj(x);\r\n\r\n            switch (x.action_name) {\r\n                case \"commented on\":\r\n                    return (<Timeline.Item dot={<MessageOutlined translate style={{ fontSize: '18px' }} />} color=\"green\">{text}</Timeline.Item>);\r\n\r\n                case \"deleted\":\r\n                    return (<Timeline.Item dot={<DeleteOutlined translate style={{ fontSize: '18px', color: \"gray\" }} />} >{text}</Timeline.Item>);\r\n\r\n                case \"closed\":\r\n                    return (<Timeline.Item dot={<CheckCircleOutlined translate style={{ fontSize: '18px', color: \"red\" }} />} >{text}</Timeline.Item>);\r\n\r\n                case \"opened\":\r\n                    return (<Timeline.Item dot={<PlusCircleOutlined translate style={{ fontSize: '18px', color: \"green\" }} />} >{text}</Timeline.Item>);\r\n\r\n                case \"accepted\":\r\n                    return (<Timeline.Item dot={<ForkOutlined translate style={{ fontSize: '18px', color: \"blue\" }} />} >{text}</Timeline.Item>);\r\n\r\n                default:\r\n                    return (<Timeline.Item>{text}</Timeline.Item>);\r\n            }\r\n\r\n        }));\r\n        return list;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Title level={4}>\r\n                Events\r\n            </Title>\r\n\r\n            <nav className=\"vertical-nav\">\r\n                <ul>\r\n                    <li>\r\n                        <Input.Search\r\n                            size=\"large\"\r\n                            placeholder=\"Jira ticket number\"\r\n                            enterButton\r\n                            onSearch={value => {\r\n                                if(!value)\r\n                                    return;\r\n                                window.open(\r\n                                    \"https://jira.smart-digital.de/browse/SMAR-\" + value,\r\n                                    '_blank'\r\n                                );\r\n                            }}\r\n                            style={{ width: 200 }}\r\n                        />\r\n                    </li>\r\n                </ul>\r\n                <ul style={{ float: 'right' }} className=\"timeLineItem\">\r\n                    {Object.keys(grupedEvents).map((key, index) => (\r\n                        <li key={index}>\r\n                            <Link activeClass=\"active\" to={key} spy={true} smooth={true} duration={250} >{dayjs(key).format('DD. MM. YYYY')}</Link>\r\n                        </li>\r\n                    ))}\r\n\r\n                </ul>\r\n            </nav>\r\n            {events && (\r\n                <Timeline className='timeline'>\r\n                    {Object.keys(grupedEvents).map((key, index) => (\r\n                        <Element name={key} className=\"element big\">\r\n                            {print(key)}\r\n                        </Element>\r\n                    ))}\r\n                </Timeline>\r\n            )}\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nexport default observer(Events);","import React, { useContext } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { RootStoreContext } from '../stores/rootStore';\r\nimport { Typography, Input } from 'antd';\r\n\r\nconst { Title } = Typography;\r\n\r\nconst JiraTaskParser: React.FC = () => {\r\n  const rootStore = useContext(RootStoreContext);\r\n  const { regex, setRegex } = rootStore.eventStore;\r\n\r\n  return (\r\n    <>\r\n      <Title level={4}>\r\n        Task Parser\r\n      </Title>\r\n\r\n      <Input\r\n        placeholder='prop name'\r\n        defaultValue={regex.toString()}\r\n        style={{ width: '15%' }} \r\n        onChange={e => setRegex(e.target.value)}/>\r\n    </>\r\n  );\r\n\r\n};\r\n\r\nexport default observer(JiraTaskParser);","import React, { useContext, useEffect } from \"react\";\r\nimport { RootStoreContext } from \"./stores/rootStore\";\r\nimport GitlabForm from \"./pages/GitlabForm\";\r\nimport User from \"./pages/User\";\r\nimport EventFilterForm from \"./pages/EventFilterForm\";\r\nimport Events from \"./pages/Events\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport { GitlabOutlined } from '@ant-design/icons';\r\nimport { Space, Typography } from \"antd\";\r\nimport JiraTaskParser from \"./pages/JiraTaskParser\";\r\nconst { Title } = Typography;\r\n\r\nconst App: React.FC = () => {\r\n  const rootStore = useContext(RootStoreContext);\r\n  const { token, createApi } = rootStore.apiStore;\r\n  const { getUser } = rootStore.userStore;\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      console.log(token);\r\n      createApi();\r\n      getUser()\r\n    }\r\n  }, [getUser, createApi, token])\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"home-page\">\r\n        <Title style={{ fontSize: '62px' }}><GitlabOutlined translate style={{ fontSize: '72px' }} /> WT</Title>\r\n      </div>\r\n\r\n      <Space direction=\"vertical\">\r\n        <GitlabForm />\r\n        <User />\r\n        <EventFilterForm />\r\n        <JiraTaskParser />\r\n        <Events />\r\n      </Space>\r\n\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport 'antd/dist/antd.css';\r\nimport './style/style.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}