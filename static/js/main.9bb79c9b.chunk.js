(window["webpackJsonptypescript-react-example"]=window["webpackJsonptypescript-react-example"]||[]).push([[0],{149:function(e,t,r){"use strict";(function(e){var a=r(44),n=r.n(a);n.a.defaults.baseURL="https://jira.smart-digital.de/rest/api/2",n.a.interceptors.response.use(void 0,function(e){console.log(e)});var i=function(e){return e.data},o=function(e,t){return n.a.get(e,{headers:t}).then(i)},c={issue:function(e,t){return o("/issue/SMAR-2627",u(e))},accountId:function(e){return o("user/bulk/migration",u(e))}},u=function(t){var r=e.from(t.username+":"+t.password).toString("base64");return{Authorization:"Basic ".concat(r),Accept:"application/json"}};t.a={Jira:c}}).call(this,r(101).Buffer)},177:function(e,t,r){e.exports=r(366)},365:function(e,t,r){},366:function(e,t,r){"use strict";r.r(t);var a,n,i,o,c,u,s,l,b,p,m,f,h,v,j,g,O,d,w,E,k,y,S,x,z,P,C,_,A=r(0),I=r.n(A),U=r(22),F=r.n(U),T=r(18),N=r(4),J=r(15),B=r.n(J),L=r(166),V=r(23),G=r(9),R=r(147),D=r(10),M=(r(46),r(167)),Y=(a=N.e.ref,n=N.e.ref,i=function(){function e(t){var r=this;Object(T.a)(this,e),this.rootStore=void 0,Object(G.a)(this,"events",o,this),Object(G.a)(this,"grupedEvents",c,this),Object(G.a)(this,"processedEvents",u,this),Object(G.a)(this,"ignoredFileds",s,this),Object(G.a)(this,"params",l,this),Object(G.a)(this,"addParam",b,this),Object(G.a)(this,"removeParam",p,this),Object(G.a)(this,"setParamName",m,this),Object(G.a)(this,"setParamValue",f,this),Object(G.a)(this,"getEvents",h,this),this.loadEvents=Object(V.a)(B.a.mark(function e(){var t,a,n,i;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=r.processParams(),n=r.rootStore.userStore.user.id;case 3:return e.next=6,r.rootStore.apiStore.api.Users.events(n,a);case 6:if(0!==(i=e.sent).length){e.next=9;break}return e.abrupt("break",13);case 9:a.page+=1,t.push.apply(t,Object(L.a)(i)),e.next=3;break;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e)})),Object(G.a)(this,"processEvents",v,this),this.rootStore=t}return Object(R.a)(e,[{key:"processParams",value:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,i=this.params[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=n.value;o.name&&(e[o.name]=o.value)}}catch(c){r=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}return e.perPage=50,e.page=1,e}}]),e}(),o=Object(D.a)(i.prototype,"events",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(D.a)(i.prototype,"grupedEvents",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=Object(D.a)(i.prototype,"processedEvents",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=Object(D.a)(i.prototype,"ignoredFileds",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"author author_username author_id commit_count commit_from commit_to"}}),l=Object(D.a)(i.prototype,"params",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{name:"after",value:"2020-8-31"}]}}),b=Object(D.a)(i.prototype,"addParam",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.params.push({name:"",value:""})}}}),p=Object(D.a)(i.prototype,"removeParam",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.params.splice(t,1)}}}),m=Object(D.a)(i.prototype,"setParamName",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.params[r].name=t}}}),f=Object(D.a)(i.prototype,"setParamValue",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.params[r].value=t}}}),h=Object(D.a)(i.prototype,"getEvents",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(V.a)(B.a.mark(function t(){var r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.loadEvents();case 3:r=t.sent,Object(N.g)(function(){e.events=r}),e.processEvents(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))}}),v=Object(D.a)(i.prototype,"processEvents",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t={},r=Object(M.a)(e.events,function(e){return e.created_at.split("T")[0]});for(var a in r){t[a]=[];for(var n=0;n<r[a].length;n++)t[a].push(r[a][n])}Object(N.g)(function(){e.grupedEvents=t})}}}),i),q=r(148),H=(j=function e(t){var r=this;Object(T.a)(this,e),this.rootStore=void 0,Object(G.a)(this,"token",g,this),Object(G.a)(this,"api",O,this),Object(G.a)(this,"setToken",d,this),Object(G.a)(this,"createApi",w,this),this.rootStore=t,Object(N.f)(function(){return r.token},function(e){e?window.localStorage.setItem("token",e):window.localStorage.removeItem("token")})},g=Object(D.a)(j.prototype,"token",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.localStorage.getItem("token")}}),O=Object(D.a)(j.prototype,"api",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=Object(D.a)(j.prototype,"setToken",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.token=t}}}),w=Object(D.a)(j.prototype,"createApi",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(V.a)(B.a.mark(function t(){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.api=new q.Gitlab({host:"https://gitlab.webix.de/",token:e.token});case 1:case"end":return t.stop()}},t)}))}}),j),K=(E=function e(t){Object(T.a)(this,e),this.rootStore=void 0,Object(G.a)(this,"user",k,this),Object(G.a)(this,"err",y,this),Object(G.a)(this,"getUser",S,this),this.rootStore=t},k=Object(D.a)(E.prototype,"user",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=Object(D.a)(E.prototype,"err",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=Object(D.a)(E.prototype,"getUser",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(V.a)(B.a.mark(function t(){var r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.rootStore.apiStore.api.Users.current();case 3:r=t.sent,Object(N.g)(function(){e.user=r,e.err=null}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),Object(N.g)(function(){e.user=null,e.err="Token is not valid"}),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,7]])}))}}),E),Q=r(149),W=(x=function e(t){Object(T.a)(this,e),this.rootStore=void 0,Object(G.a)(this,"jira",z,this),Object(G.a)(this,"username",P,this),Object(G.a)(this,"password",C,this),Object(G.a)(this,"login",_,this),this.rootStore=t},z=Object(D.a)(x.prototype,"jira",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=Object(D.a)(x.prototype,"username",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=Object(D.a)(x.prototype,"password",[N.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=Object(D.a)(x.prototype,"login",[N.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=Object(V.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.Jira.issue(t,"");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()}}),x);Object(N.c)({enforceActions:"always"});var X=Object(A.createContext)(new function e(){Object(T.a)(this,e),this.eventStore=void 0,this.apiStore=void 0,this.userStore=void 0,this.jiraStore=void 0,this.eventStore=new Y(this),this.apiStore=new H(this),this.userStore=new K(this),this.jiraStore=new W(this)}),Z=r(380),$=r(381),ee=r(376),te=Object(Z.a)(function(){var e=Object(A.useContext)(X),t=e.apiStore,r=t.setToken,a=t.createApi,n=t.token,i=e.userStore,o=i.getUser,c=i.err,u=i.user;return I.a.createElement(I.a.Fragment,null,I.a.createElement($.a,null,"Create read_api token here: ",I.a.createElement("a",{href:"https://gitlab.webix.de/profile/personal_access_tokens"},"wwww.gitlab.webix.de/profile/personal_access_tokens")),I.a.createElement(ee.a,{icon:"key",iconPosition:"left",placeholder:"Your token",onChange:function(e){return r(e.target.value)},value:n,action:{icon:"check",color:null==u?"red":"green",onClick:function(){a(),o()}}}),c&&I.a.createElement($.a,{negative:!0},I.a.createElement("p",null,c)))}),re=Object(Z.a)(function(){var e=Object(A.useContext)(X).userStore.user;return I.a.createElement(I.a.Fragment,null,e&&e.name)}),ae=r(379),ne=r(367),ie=Object(Z.a)(function(){var e=Object(A.useContext)(X),t=e.userStore.user,r=e.eventStore,a=r.params,n=r.setParamName,i=r.setParamValue,o=r.addParam,c=r.getEvents;return I.a.createElement(I.a.Fragment,null,I.a.createElement(ae.a,null,I.a.createElement(ae.a.Item,null,a.map(function(e,t){return I.a.createElement("div",{key:t},I.a.createElement(ee.a,{placeholder:"prop name",value:e.name,onChange:function(e){return n(e.target.value,t)}}),I.a.createElement(ee.a,{placeholder:"prop value",value:e.value,onChange:function(e){return i(e.target.value,t)}}))})),I.a.createElement(ae.a.Item,null,I.a.createElement(ne.a,{onClick:o},"Add Param"),t&&I.a.createElement(ne.a,{onClick:c},"Submite"))))}),oe=r(378),ce=r(334),ue=ce.Link,se=ce.Element,le=Object(Z.a)(function(){var e=Object(A.useContext)(X).eventStore,t=e.events,r=e.grupedEvents,a=e.ignoredFileds,n=function(e,t){if(null!==t&&!a.split(" ").includes(e))return"created_at"===e?new Date(t).toTimeString():t};return I.a.createElement(I.a.Fragment,null,I.a.createElement("nav",{className:"vertical-nav"},I.a.createElement("ul",null,Object.keys(r).map(function(e,t){return I.a.createElement("li",{key:t},I.a.createElement(ue,{activeClass:"active",to:e,spy:!0,smooth:!0,duration:250},e))}))),t&&I.a.createElement(oe.a,null,Object.keys(r).map(function(e,t){return I.a.createElement(se,{name:e,className:"element big"},function(e){var t=[];return t.push(I.a.createElement(oe.a.Item,{color:"red"},I.a.createElement("h2",null,e))),t.push(r[e].map(function(e,t){return I.a.createElement(oe.a.Item,null,I.a.createElement("pre",null,JSON.stringify(e,n,1).slice(2,-2).replace(/\"/g,"")))})),t}(e))})))}),be=(r(363),r(377)),pe=function(){var e=Object(A.useContext)(X),t=e.apiStore,r=t.token,a=t.createApi,n=e.userStore.getUser;return Object(A.useEffect)(function(){r&&(console.log(r),a(),n())},[n,a,r]),I.a.createElement(be.a,null,I.a.createElement("h3",null,"GitLab User Token:"),I.a.createElement(te,null),I.a.createElement("h3",null,"User:"),I.a.createElement(re,null),I.a.createElement("h3",null,"Event filter:"),I.a.createElement(ie,null),I.a.createElement("h3",null,"Events:"),I.a.createElement(le,null))};r(364),r(365);F.a.render(I.a.createElement(pe,null),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.9bb79c9b.chunk.js.map